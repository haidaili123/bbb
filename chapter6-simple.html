<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å…­ç« ï¼šåæ ‡è½´å®šåˆ¶ - æ·¡ç´«è‰²æ¸å˜ä¸»é¢˜</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #F3E8FF 0%, #E9D5FF 25%, #DDD6FE 50%, #E9D5FF 75%, #F3E8FF 100%);
            min-height: 100vh;
            color: #4C1D95;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(139, 92, 246, 0.15);
        }

        h1 {
            color: #6B46C1;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            color: #6B21A8;
            font-size: 1.2em;
            font-weight: 300;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .nav-tab {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #E9D5FF;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #7C3AED;
        }

        .nav-tab:hover {
            background: #F3E8FF;
            transform: translateY(-2px);
        }

        .nav-tab.active {
            background: #8B5CF6;
            color: white;
            border-color: #8B5CF6;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.12);
            backdrop-filter: blur(10px);
        }

        .card h3 {
            color: #7C3AED;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #E9D5FF;
            padding-bottom: 10px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: #F3E8FF;
            border-radius: 15px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        label {
            font-weight: 600;
            color: #6B21A8;
            font-size: 0.9em;
        }

        select, input[type="range"], button {
            padding: 10px;
            border: 2px solid #E9D5FF;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #8B5CF6;
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        button {
            background: linear-gradient(135deg, #A855F7 0%, #8B5CF6 100%);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            padding: 12px 20px;
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.08);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .stat-card {
            background: linear-gradient(135deg, #F3E8FF 0%, #E9D5FF 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #7C3AED;
        }

        .stat-label {
            color: #6B21A8;
            margin-top: 5px;
        }

        .code-snippet {
            background: #F3E8FF;
            border-left: 4px solid #8B5CF6;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #4C1D95;
        }

        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ç¬¬å…­ç« ï¼šåæ ‡è½´å®šåˆ¶</h1>
            <p class="subtitle">æ·¡ç´«è‰²æ¸å˜ä¸»é¢˜ - åæ ‡è½´ä½ç½®ã€åˆ»åº¦æ ·å¼ã€è½´è„Šæ§åˆ¶ç­‰é«˜çº§å®šåˆ¶åŠŸèƒ½</p>
        </header>

        <nav class="nav-tabs">
            <div class="nav-tab active" onclick="showTab('overview')">åæ ‡è½´æ¦‚è¿°</div>
            <div class="nav-tab" onclick="showTab('position')">ä½ç½®å®šåˆ¶</div>
            <div class="nav-tab" onclick="showTab('ticks')">åˆ»åº¦å®šåˆ¶</div>
            <div class="nav-tab" onclick="showTab('spines')">è½´è„Šæ§åˆ¶</div>
        </nav>

        <!-- åæ ‡è½´æ¦‚è¿° -->
        <div id="overview" class="tab-content active">
            <div class="card">
                <h3>ğŸ“Š åæ ‡è½´æ¦‚è¿°</h3>
                <p>matplotlibçš„åæ ‡è½´ç”±å››ä¸ªè½´è„Š(spines)ç»„æˆï¼šä¸Š(top)ã€ä¸‹(bottom)ã€å·¦(left)ã€å³(right)ã€‚æ¯ä¸ªè½´è„Šéƒ½æœ‰å¯¹åº”çš„åˆ»åº¦(ticks)å’Œæ ‡ç­¾(labels)ã€‚</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>å›¾è¡¨ç±»å‹</label>
                        <select id="chartType" onchange="updateOverviewChart()">
                            <option value="line">æŠ˜çº¿å›¾</option>
                            <option value="bar">æŸ±çŠ¶å›¾</option>
                            <option value="scatter">æ•£ç‚¹å›¾</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <button onclick="updateOverviewChart()">æ›´æ–°å›¾è¡¨</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="overviewChart"></canvas>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value">4</div>
                        <div class="stat-label">è½´è„Šæ•°é‡</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">2</div>
                        <div class="stat-label">åæ ‡è½´</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">8</div>
                        <div class="stat-label">åˆ»åº¦çº¿</div>
                    </div>
                </div>

                <div class="code-snippet">
                    import matplotlib.pyplot as plt<br>
                    ax = plt.gca()<br>
                    print(ax.spines)  # æ˜¾ç¤ºè½´è„Šä¿¡æ¯
                </div>
            </div>
        </div>

        <!-- ä½ç½®å®šåˆ¶ -->
        <div id="position" class="tab-content">
            <div class="card">
                <h3>ğŸ“ å‘ä»»æ„ä½ç½®æ·»åŠ åæ ‡è½´</h3>
                <p>å¯ä»¥ä½¿ç”¨plt.axes()æ–¹æ³•åœ¨æŒ‡å®šä½ç½®æ·»åŠ åæ ‡è½´ï¼Œå‚æ•°æ ¼å¼ä¸º[left, bottom, width, height]ã€‚</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>å­å›¾æ•°é‡</label>
                        <select id="subplotCount" onchange="updatePositionChart()">
                            <option value="2">2ä¸ªå­å›¾</option>
                            <option value="3">3ä¸ªå­å›¾</option>
                            <option value="4">4ä¸ªå­å›¾</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <button onclick="updatePositionChart()">é‡æ–°å¸ƒå±€</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="positionChart"></canvas>
                </div>

                <div class="code-snippet">
                    # æ·»åŠ å­å›¾åˆ°æŒ‡å®šä½ç½®<br>
                    ax1 = plt.axes([0.1, 0.1, 0.8, 0.8])<br>
                    ax2 = plt.axes([0.2, 0.2, 0.3, 0.3])
                </div>
            </div>
        </div>

        <!-- åˆ»åº¦å®šåˆ¶ -->
        <div id="ticks" class="tab-content">
            <div class="card">
                <h3>âš™ï¸ åˆ»åº¦å®šåˆ¶</h3>
                <p>æ·±åœ³å¸‚24å°æ—¶å¹³å‡é£é€Ÿæ•°æ®å±•ç¤ºï¼Œæ¼”ç¤ºæ—¶é—´åˆ»åº¦çš„å®šåˆ¶æŠ€æœ¯ã€‚</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>æ—¶é—´é—´éš”</label>
                        <select id="timeInterval" onchange="updateTicksChart()">
                            <option value="2">2å°æ—¶</option>
                            <option value="4">4å°æ—¶</option>
                            <option value="6">6å°æ—¶</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>åˆ»åº¦æ–¹å‘</label>
                        <select id="tickDirection" onchange="updateTicksChart()">
                            <option value="in">å‘å†…</option>
                            <option value="out">å‘å¤–</option>
                            <option value="inout">åŒå‘</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label>æ—‹è½¬è§’åº¦</label>
                        <input type="range" id="rotationAngle" min="0" max="90" value="45" onchange="updateTicksChart()">
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="ticksChart"></canvas>
                </div>

                <div class="code-snippet">
                    # å®šåˆ¶æ—¶é—´åˆ»åº¦<br>
                    from matplotlib.dates import DateFormatter, HourLocator<br>
                    ax.xaxis.set_major_locator(HourLocator(interval=2))<br>
                    ax.xaxis.set_major_formatter(DateFormatter('%H:%M'))
                </div>
            </div>
        </div>

        <!-- è½´è„Šæ§åˆ¶ -->
        <div id="spines" class="tab-content">
            <div class="card">
                <h3>ğŸ¯ è½´è„Šæ§åˆ¶</h3>
                <p>æ­£å¼¦ä¸ä½™å¼¦æ›²çº¿å±•ç¤ºï¼Œæ¼”ç¤ºè½´è„Šçš„éšè—å’Œç§»åŠ¨æŠ€æœ¯ã€‚</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label>éšè—ä¸Šè½´è„Š</label>
                        <input type="checkbox" id="hideTop" checked onchange="updateSpinesChart()">
                    </div>
                    <div class="control-group">
                        <label>éšè—å³è½´è„Š</label>
                        <input type="checkbox" id="hideRight" checked onchange="updateSpinesChart()">
                    </div>
                    <div class="control-group">
                        <label>ç§»åŠ¨åŸç‚¹</label>
                        <input type="checkbox" id="moveOrigin" checked onchange="updateSpinesChart()">
                    </div>
                    <div class="control-group">
                        <button onclick="updateSpinesChart()">æ›´æ–°æ˜¾ç¤º</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <canvas id="spinesChart"></canvas>
                </div>

                <div class="code-snippet">
                    # éšè—å’Œç§»åŠ¨è½´è„Š<br>
                    ax.spines['top'].set_color('none')<br>
                    ax.spines['right'].set_color('none')<br>
                    ax.spines['left'].set_position(('data', 0))<br>
                    ax.spines['bottom'].set_position(('data', 0))
                </div>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let overviewChart = null;
        let positionChart = null;
        let ticksChart = null;
        let spinesChart = null;

        // æ ‡ç­¾åˆ‡æ¢
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // åˆå§‹åŒ–å¯¹åº”å›¾è¡¨
            setTimeout(() => {
                if (tabName === 'overview') updateOverviewChart();
                else if (tabName === 'position') updatePositionChart();
                else if (tabName === 'ticks') updateTicksChart();
                else if (tabName === 'spines') updateSpinesChart();
            }, 100);
        }

        // ç”Ÿæˆæ•°æ®
        function generateData(type = 'line') {
            const labels = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'];
            let data1, data2;
            
            if (type === 'line') {
                data1 = [65, 78, 90, 81, 56, 85];
                data2 = [45, 68, 70, 91, 76, 65];
            } else if (type === 'bar') {
                data1 = [12, 19, 3, 5, 2, 3];
                data2 = [15, 12, 18, 14, 8, 10];
            } else {
                data1 = Array.from({length: 6}, () => Math.random() * 100);
                data2 = Array.from({length: 6}, () => Math.random() * 100);
            }
            
            return { labels, data1, data2 };
        }

        // æ¦‚è¿°å›¾è¡¨
        function updateOverviewChart() {
            const type = document.getElementById('chartType').value;
            const data = generateData(type);
            const ctx = document.getElementById('overviewChart').getContext('2d');
            
            if (overviewChart) overviewChart.destroy();
            
            overviewChart = new Chart(ctx, {
                type: type === 'scatter' ? 'scatter' : type,
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: 'æ•°æ®ç³»åˆ—1',
                        data: data.data1,
                        borderColor: '#8B5CF6',
                        backgroundColor: type === 'line' ? 'rgba(139, 92, 246, 0.1)' : 'rgba(139, 92, 246, 0.6)',
                        tension: 0.4
                    }, {
                        label: 'æ•°æ®ç³»åˆ—2',
                        data: data.data2,
                        borderColor: '#EC4899',
                        backgroundColor: type === 'line' ? 'rgba(236, 72, 153, 0.1)' : 'rgba(236, 72, 153, 0.6)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'åæ ‡è½´æ¦‚è¿°ç¤ºä¾‹' }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        // ä½ç½®å›¾è¡¨
        function updatePositionChart() {
            const count = parseInt(document.getElementById('subplotCount').value);
            const ctx = document.getElementById('positionChart').getContext('2d');
            
            if (positionChart) positionChart.destroy();
            
            const datasets = [];
            const colors = ['#8B5CF6', '#EC4899', '#10B981', '#F59E0B'];
            
            for (let i = 0; i < count; i++) {
                datasets.push({
                    label: `å­å›¾ ${i + 1}`,
                    data: Array.from({length: 10}, () => Math.random() * 100),
                    borderColor: colors[i % colors.length],
                    backgroundColor: colors[i % colors.length] + '33',
                    tension: 0.4
                });
            }
            
            positionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 10}, (_, i) => `T${i}`),
                    datasets: datasets
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: `å¤šå­å›¾å¸ƒå±€ - ${count}ä¸ªå­å›¾` }
                    }
                }
            });
        }

        // åˆ»åº¦å›¾è¡¨
        function updateTicksChart() {
            const interval = document.getElementById('timeInterval').value;
            const direction = document.getElementById('tickDirection').value;
            const rotation = document.getElementById('rotationAngle').value;
            const ctx = document.getElementById('ticksChart').getContext('2d');
            
            if (ticksChart) ticksChart.destroy();
            
            // ç”Ÿæˆæ—¶é—´æ ‡ç­¾
            const timeLabels = [];
            const windData = [];
            for (let i = 0; i < 24; i += parseInt(interval)) {
                timeLabels.push(`${i.toString().padStart(2, '0')}:00`);
                windData.push(Math.floor(Math.random() * 15 + 5));
            }
            
            ticksChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: timeLabels,
                    datasets: [{
                        label: 'é£é€Ÿ (km/h)',
                        data: windData,
                        borderColor: '#8B5CF6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.2,
                        pointRadius: 6,
                        pointBackgroundColor: '#EC4899'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'æ·±åœ³å¸‚24å°æ—¶å¹³å‡é£é€Ÿ' }
                    },
                    scales: {
                        x: {
                            ticks: {
                                maxRotation: rotation,
                                minRotation: rotation
                            }
                        }
                    }
                }
            });
        }

        // è½´è„Šå›¾è¡¨
        function updateSpinesChart() {
            const hideTop = document.getElementById('hideTop').checked;
            const hideRight = document.getElementById('hideRight').checked;
            const moveOrigin = document.getElementById('moveOrigin').checked;
            const ctx = document.getElementById('spinesChart').getContext('2d');
            
            if (spinesChart) spinesChart.destroy();
            
            // ç”Ÿæˆæ­£å¼¦ä½™å¼¦æ•°æ®
            const xValues = Array.from({length: 100}, (_, i) => (i - 50) * 0.1);
            const sinData = xValues.map(x => Math.sin(x));
            const cosData = xValues.map(x => Math.cos(x));
            
            const piLabels = ['-2Ï€', '-3Ï€/2', '-Ï€', '-Ï€/2', '0', 'Ï€/2', 'Ï€', '3Ï€/2', '2Ï€'];
            const piIndices = [0, 12, 25, 37, 50, 62, 75, 87, 99];
            
            spinesChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: xValues.map((_, i) => piLabels.includes(piLabels[Math.floor(i/11)]) ? piLabels[Math.floor(i/11)] : ''),
                    datasets: [{
                        label: 'æ­£å¼¦æ›²çº¿',
                        data: sinData,
                        borderColor: '#8B5CF6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        tension: 0.4,
                        pointRadius: 0
                    }, {
                        label: 'ä½™å¼¦æ›²çº¿',
                        data: cosData,
                        borderColor: '#EC4899',
                        backgroundColor: 'rgba(236, 72, 153, 0.1)',
                        tension: 0.4,
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'æ­£å¼¦ä¸ä½™å¼¦æ›²çº¿' },
                        legend: { display: true }
                    },
                    scales: {
                        x: {
                            grid: { 
                                display: !moveOrigin,
                                color: moveOrigin ? 'transparent' : undefined
                            }
                        },
                        y: {
                            grid: { 
                                display: !moveOrigin,
                                color: moveOrigin ? 'transparent' : undefined
                            },
                            min: -1.5,
                            max: 1.5
                        }
                    }
                }
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateOverviewChart();
        });
    </script>
</body>
</html>